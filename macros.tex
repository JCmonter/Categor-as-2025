% Codificación
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Tipografía y fuentes matemáticas
\usepackage[mathscr]{eucal}
\usepackage{amsmath}
%\usepackage{amssymb}
\usepackage{mathalfa} % para \mathscr y otras letras bonitas
\usepackage{upgreek}
\usepackage{stmaryrd}
\usepackage[sans]{dsfont} % para \mathds
\usepackage{mathdesign}   % Fuente principal (usa mdput)
\usepackage{mathrsfs}
% Definición de \EuScript para evitar errores
\let\EuScript\mathscr

% Gráficos y diagramas
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{babel, arrows.meta, decorations.pathmorphing, matrix}

% Diagramas con xy-pic
\usepackage[all,cmtip]{xy}

% Paquetes generales
\usepackage{enumerate}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{microtype}
\usepackage[spanish]{babel}
\usepackage[numbers]{natbib}
\usepackage{bookmark}

% Hipervínculos
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  citecolor=brown,
  linktocpage=true,
  pagebackref=true,
  hyperindex=true
}

% Cabecera
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\rightmark}
\fancyhead[RE]{\bfseries\leftmark}

% Comandos personalizados
\newcommand\Idl{\text{-}\mathrm{Idl}}
\newcommand\adj[2]{{\ar[from=#1, to=#2,"\dashv"marking,draw=none]}}
\let\prs\prescript
\newcommand\Inf{\bigwedge}
\newcommand\Sup{\bigvee}
\let\phi\varphi
\newcommand\ssi{\qquad\text{si, y solo si}\qquad}
\newcommand\ol[1]{\overline{#1}}
\newcommand\nin{\not\in}
\newcommand{\Cal}[1]{\mathcal{#1}}

% Categorías y notación habitual
\newcommand{\Frm}{\mathbf{Frm}}
\newcommand{\Pos}{\mathbf{Pos}}
\newcommand{\Dpos}{\mathbf{Dpos}}
\newcommand{\cbd}{\mathrm{cbd}}
\newcommand{\Cbd}{\mathrm{Cbd}}
\newcommand{\CBD}{\mathrm{CBD}}
\newcommand{\Obj}{\mathrm{Obj}}
\newcommand{\Fle}{\mathrm{Fle}}
\newcommand{\Dom}{\mathrm{Dom}}
\newcommand{\Cod}{\mathrm{Cod}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\End}{\mathrm{End}}
\newcommand{\Aut}{\mathrm{Aut}}
\newcommand{\Loc}{\mathbf{Loc}}
\newcommand{\CBA}{\mathbf{CBA}}
\newcommand{\Ord}{\mathbf{Ord}}
\newcommand{\Top}{\mathbf{Top}}
\newcommand{\Grp}{\mathbf{Grp}}
\newcommand{\Mon}{\mathbf{Mon}}
\newcommand{\Con}{\mathbf{Con}}
\newcommand{\Vect}{\mathbf{Vect}}
\newcommand{\Ring}{\mathbf{Ring}}
\newcommand{\Ab}{\mathbf{Ab}}
\newcommand{\CAT}{\mathbf{CAT}}
\newcommand{\cat}{\mathbf{cat}}
\newcommand{\Cat}{\mathbf{Cat}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\Id}{\mathrm{Id}}
\newcommand{\ID}{\mathrm{ID}}
\newcommand{\tp}{\mathrm{tp}}
\newcommand{\Tp}{\mathrm{Tp}}
\newcommand{\TP}{\mathrm{TP}}
\newcommand{\op}{\mathrm{op}}
\newcommand{\pt}{\mathrm{pt}}
\newcommand{\cl}{\mathrm{cl}}
\newcommand{\lm}{\mathrm{Lim}}
\newcommand{\clm}{\mathrm{Colim}}
\newcommand{\im}{\mathrm{Im}}
\newcommand{\kr}{\mathrm{Ker}}
\newcommand{\Cokr}{\mathrm{Coker}}
\newcommand{\inte}{\mathrm{int}}
\newcommand{\ob}{\mathrm{ob}}
\newcommand{\ins}{\mathrm{ins}}
\newcommand{\coht}{\mathrm{coht}}
\newcommand{\dep}{\mathrm{dp}}
\newcommand{\sob}{\mathrm{sob}}
\newcommand{\Sob}{\mathrm{Sob}}
\newcommand{\Haus}{\mathrm{Haus}}
\newcommand{\DLat}{\mathrm{DLat}}
\newcommand{\spec}{\mathrm{spec}}

% Conjuntos clásicos
\newcommand{\R}{\mathbb R}
\newcommand{\Q}{\mathbb Q}
\newcommand{\Z}{\mathbb Z}
\newcommand{\N}{\mathbb N}
\newcommand{\A}{\mathscr A}
\newcommand{\B}{\mathscr B}
\newcommand{\C}{\mathscr C}
\newcommand{\D}{\mathscr D}
\newcommand{\E}{\mathbf E}

% Estilo de teoremas
\theoremstyle{plain}
\newtheorem*{thm*}{Teorema}
\newtheorem{thm}{\protect\theoremname}[section]
\newtheorem{cor}[thm]{\protect\corollaryname}
\newtheorem{lem}[thm]{\protect\lemmaname}
\newtheorem{prop}[thm]{\protect\propositionname}
\newtheorem*{prop*}{Proposición}
\newtheorem{dfn}[thm]{\protect\definitionname}
\newtheorem*{dfn*}{Definición}

\theoremstyle{remark}
\newtheorem{obs}[thm]{\protect\remarkname}
\newtheorem{ej}[thm]{\protect\examplename}
\newtheorem{subej}[thm]{\protect\subexamplename}
\newtheorem{ex}{\protect\exercisename}

% Nombres para español
\providecommand{\corollaryname}{Corolario}
\providecommand{\examplename}{Ejemplo}
\providecommand{\lemmaname}{Lema}
\providecommand{\propositionname}{Proposición}
\providecommand{\remarkname}{Observación}
\providecommand{\theoremname}{Teorema}
\providecommand{\subexamplename}{Subejemplo}
\providecommand{\definitionname}{Definición}
\providecommand{\exercisename}{Ejercicio}